{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { useControllableValue, useId, useMergedRefs, useWarnings } from '@fluentui/react-hooks';\nimport { useFocusRects, classNamesFunction } from '@fluentui/utilities';\nimport { Icon } from '../Icon/Icon';\nvar getClassNames = classNamesFunction();\nexport var CheckboxBase = React.forwardRef(function (props, forwardedRef) {\n  var disabled = props.disabled,\n      required = props.required,\n      inputProps = props.inputProps,\n      name = props.name,\n      ariaLabel = props.ariaLabel,\n      ariaLabelledBy = props.ariaLabelledBy,\n      ariaDescribedBy = props.ariaDescribedBy,\n      ariaPositionInSet = props.ariaPositionInSet,\n      ariaSetSize = props.ariaSetSize,\n      title = props.title,\n      checkmarkIconProps = props.checkmarkIconProps,\n      styles = props.styles,\n      theme = props.theme,\n      className = props.className,\n      _a = props.boxSide,\n      boxSide = _a === void 0 ? 'start' : _a;\n  var id = useId('checkbox-', props.id);\n  var rootRef = React.useRef(null);\n  var mergedRootRefs = useMergedRefs(rootRef, forwardedRef);\n  var inputRef = React.useRef(null);\n\n  var _b = useControllableValue(props.checked, props.defaultChecked, props.onChange),\n      isChecked = _b[0],\n      setIsChecked = _b[1];\n\n  var _c = useControllableValue(props.indeterminate, props.defaultIndeterminate),\n      isIndeterminate = _c[0],\n      setIsIndeterminate = _c[1];\n\n  useFocusRects(rootRef);\n  useDebugWarning(props);\n  useComponentRef(props, isChecked, isIndeterminate, inputRef);\n  var classNames = getClassNames(styles, {\n    theme: theme,\n    className: className,\n    disabled: disabled,\n    indeterminate: isIndeterminate,\n    checked: isChecked,\n    reversed: boxSide !== 'start',\n    isUsingCustomLabelRender: !!props.onRenderLabel\n  });\n\n  var onChange = function (ev) {\n    if (isIndeterminate) {\n      // If indeterminate, clicking the checkbox *only* removes the indeterminate state (or if\n      // controlled, lets the consumer know to change it by calling onChange). It doesn't\n      // change the checked state.\n      setIsChecked(!!isChecked, ev);\n      setIsIndeterminate(false);\n    } else {\n      setIsChecked(!isChecked, ev);\n    }\n  };\n\n  var defaultLabelRenderer = React.useCallback(function (checkboxProps) {\n    if (!checkboxProps) {\n      return null;\n    }\n\n    return checkboxProps.label ? React.createElement(\"span\", {\n      className: classNames.text,\n      title: checkboxProps.title\n    }, checkboxProps.label) : null;\n  }, [classNames.text]);\n  var onRenderLabel = props.onRenderLabel || defaultLabelRenderer;\n  var ariaChecked = isIndeterminate ? 'mixed' : isChecked ? 'true' : 'false';\n\n  var mergedInputProps = __assign(__assign({\n    className: classNames.input,\n    type: 'checkbox'\n  }, inputProps), {\n    checked: !!isChecked,\n    disabled: disabled,\n    required: required,\n    name: name,\n    id: id,\n    title: title,\n    onChange: onChange,\n    'aria-disabled': disabled,\n    'aria-label': ariaLabel,\n    'aria-labelledby': ariaLabelledBy,\n    'aria-describedby': ariaDescribedBy,\n    'aria-posinset': ariaPositionInSet,\n    'aria-setsize': ariaSetSize,\n    'aria-checked': ariaChecked\n  });\n\n  return React.createElement(\"div\", {\n    className: classNames.root,\n    title: title,\n    ref: mergedRootRefs\n  }, React.createElement(\"input\", __assign({}, mergedInputProps, {\n    ref: inputRef,\n    title: title,\n    \"data-ktp-execute-target\": true\n  })), React.createElement(\"label\", {\n    className: classNames.label,\n    htmlFor: id\n  }, React.createElement(\"div\", {\n    className: classNames.checkbox,\n    \"data-ktp-target\": true\n  }, React.createElement(Icon, __assign({\n    iconName: \"CheckMark\"\n  }, checkmarkIconProps, {\n    className: classNames.checkmark\n  }))), onRenderLabel(props, defaultLabelRenderer)));\n});\nCheckboxBase.displayName = 'CheckboxBase';\n\nfunction useDebugWarning(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: 'Checkbox',\n      props: props,\n      mutuallyExclusive: {\n        checked: 'defaultChecked',\n        indeterminate: 'defaultIndeterminate'\n      }\n    });\n  }\n}\n\nfunction useComponentRef(props, isChecked, isIndeterminate, checkBoxRef) {\n  React.useImperativeHandle(props.componentRef, function () {\n    return {\n      get checked() {\n        return !!isChecked;\n      },\n\n      get indeterminate() {\n        return !!isIndeterminate;\n      },\n\n      focus: function () {\n        if (checkBoxRef.current) {\n          checkBoxRef.current.focus();\n        }\n      }\n    };\n  }, [checkBoxRef, isChecked, isIndeterminate]);\n}","map":{"version":3,"sources":["components/Checkbox/Checkbox.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { useControllableValue, useId, useMergedRefs, useWarnings } from '@fluentui/react-hooks';\nimport { useFocusRects, classNamesFunction } from '@fluentui/utilities';\nimport { Icon } from '../Icon/Icon';\nimport { ICheckboxProps, ICheckboxStyleProps, ICheckboxStyles } from './Checkbox.types';\n\nconst getClassNames = classNamesFunction<ICheckboxStyleProps, ICheckboxStyles>();\n\nexport const CheckboxBase: React.FunctionComponent<ICheckboxProps> = React.forwardRef<HTMLDivElement, ICheckboxProps>(\n  (props, forwardedRef) => {\n    const {\n      disabled,\n      required,\n      inputProps,\n      name,\n      ariaLabel,\n      ariaLabelledBy,\n      ariaDescribedBy,\n      ariaPositionInSet,\n      ariaSetSize,\n      title,\n      checkmarkIconProps,\n      styles,\n      theme,\n      className,\n      boxSide = 'start',\n    } = props;\n\n    const id = useId('checkbox-', props.id);\n\n    const rootRef = React.useRef<HTMLDivElement | null>(null);\n    const mergedRootRefs: React.Ref<HTMLDivElement> = useMergedRefs(rootRef, forwardedRef);\n    const inputRef = React.useRef<HTMLInputElement>(null);\n\n    const [isChecked, setIsChecked] = useControllableValue(props.checked, props.defaultChecked, props.onChange);\n    const [isIndeterminate, setIsIndeterminate] = useControllableValue(props.indeterminate, props.defaultIndeterminate);\n\n    useFocusRects(rootRef);\n    useDebugWarning(props);\n    useComponentRef(props, isChecked, isIndeterminate, inputRef);\n\n    const classNames = getClassNames(styles!, {\n      theme: theme!,\n      className,\n      disabled,\n      indeterminate: isIndeterminate,\n      checked: isChecked,\n      reversed: boxSide !== 'start',\n      isUsingCustomLabelRender: !!props.onRenderLabel,\n    });\n\n    const onChange = (ev: React.ChangeEvent<HTMLElement>): void => {\n      if (isIndeterminate) {\n        // If indeterminate, clicking the checkbox *only* removes the indeterminate state (or if\n        // controlled, lets the consumer know to change it by calling onChange). It doesn't\n        // change the checked state.\n        setIsChecked(!!isChecked, ev);\n        setIsIndeterminate(false);\n      } else {\n        setIsChecked(!isChecked, ev);\n      }\n    };\n\n    const defaultLabelRenderer = React.useCallback(\n      (checkboxProps?: ICheckboxProps): JSX.Element | null => {\n        if (!checkboxProps) {\n          return null;\n        }\n        return checkboxProps.label ? (\n          <span className={classNames.text} title={checkboxProps.title}>\n            {checkboxProps.label}\n          </span>\n        ) : null;\n      },\n      [classNames.text],\n    );\n\n    const onRenderLabel = props.onRenderLabel || defaultLabelRenderer;\n\n    const ariaChecked: React.InputHTMLAttributes<HTMLInputElement>['aria-checked'] = isIndeterminate\n      ? 'mixed'\n      : isChecked\n      ? 'true'\n      : 'false';\n\n    const mergedInputProps: React.InputHTMLAttributes<HTMLInputElement> = {\n      className: classNames.input,\n      type: 'checkbox' as React.InputHTMLAttributes<HTMLInputElement>['type'],\n      ...inputProps,\n      checked: !!isChecked,\n      disabled,\n      required,\n      name,\n      id,\n      title,\n      onChange,\n      'aria-disabled': disabled,\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      'aria-describedby': ariaDescribedBy,\n      'aria-posinset': ariaPositionInSet,\n      'aria-setsize': ariaSetSize,\n      'aria-checked': ariaChecked,\n    };\n\n    return (\n      <div className={classNames.root} title={title} ref={mergedRootRefs}>\n        <input {...mergedInputProps} ref={inputRef} title={title} data-ktp-execute-target={true} />\n        <label className={classNames.label} htmlFor={id}>\n          <div className={classNames.checkbox} data-ktp-target={true}>\n            <Icon iconName=\"CheckMark\" {...checkmarkIconProps} className={classNames.checkmark} />\n          </div>\n          {onRenderLabel(props, defaultLabelRenderer)}\n        </label>\n      </div>\n    );\n  },\n);\n\nCheckboxBase.displayName = 'CheckboxBase';\n\nfunction useDebugWarning(props: ICheckboxProps) {\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks -- build-time conditional\n    useWarnings({\n      name: 'Checkbox',\n      props,\n      mutuallyExclusive: {\n        checked: 'defaultChecked',\n        indeterminate: 'defaultIndeterminate',\n      },\n    });\n  }\n}\n\nfunction useComponentRef(\n  props: ICheckboxProps,\n  isChecked: boolean | undefined,\n  isIndeterminate: boolean | undefined,\n  checkBoxRef: React.RefObject<HTMLInputElement>,\n) {\n  React.useImperativeHandle(\n    props.componentRef,\n    () => ({\n      get checked() {\n        return !!isChecked;\n      },\n      get indeterminate() {\n        return !!isIndeterminate;\n      },\n      focus() {\n        if (checkBoxRef.current) {\n          checkBoxRef.current.focus();\n        }\n      },\n    }),\n    [checkBoxRef, isChecked, isIndeterminate],\n  );\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}
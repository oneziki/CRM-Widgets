{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { KeyCodes, classNamesFunction, getNativeProps, divProperties, css, format, getPropsWithDefaults } from '@fluentui/utilities';\nimport { Calendar } from '../../Calendar';\nimport { FirstWeekOfYear, getDatePartHashValue, compareDatePart, DayOfWeek } from '@fluentui/date-time-utilities';\nimport { Callout, DirectionalHint } from '../../Callout';\nimport { TextField } from '../../TextField';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { useId, useAsync, useControllableValue } from '@fluentui/react-hooks';\nimport { defaultDatePickerStrings } from './defaults';\nvar getClassNames = classNamesFunction();\nvar DEFAULT_PROPS = {\n  allowTextInput: false,\n  formatDate: function (date) {\n    return date ? date.toDateString() : '';\n  },\n  parseDateFromString: function (dateStr) {\n    var date = Date.parse(dateStr);\n    return date ? new Date(date) : null;\n  },\n  firstDayOfWeek: DayOfWeek.Sunday,\n  initialPickerDate: new Date(),\n  isRequired: false,\n  isMonthPickerVisible: true,\n  showMonthPickerAsOverlay: false,\n  strings: defaultDatePickerStrings,\n  highlightCurrentMonth: false,\n  highlightSelectedMonth: false,\n  borderless: false,\n  pickerAriaLabel: 'Calendar',\n  showWeekNumbers: false,\n  firstWeekOfYear: FirstWeekOfYear.FirstDay,\n  showGoToToday: true,\n  showCloseButton: false,\n  underlined: false,\n  allFocusable: false\n};\n\nfunction useFocusLogic() {\n  var textFieldRef = React.useRef(null);\n  var preventFocusOpeningPicker = React.useRef(false);\n\n  var focus = function () {\n    var _a, _b, _c;\n\n    (_c = (_a = textFieldRef.current) === null || _a === void 0 ? void 0 : (_b = _a).focus) === null || _c === void 0 ? void 0 : _c.call(_b);\n  };\n\n  var preventNextFocusOpeningPicker = function () {\n    preventFocusOpeningPicker.current = true;\n  };\n\n  return [textFieldRef, focus, preventFocusOpeningPicker, preventNextFocusOpeningPicker];\n}\n\nfunction useCalendarVisibility(_a, focus) {\n  var allowTextInput = _a.allowTextInput,\n      onAfterMenuDismiss = _a.onAfterMenuDismiss;\n\n  var _b = React.useState(false),\n      isCalendarShown = _b[0],\n      setIsCalendarShown = _b[1];\n\n  var isMounted = React.useRef(false);\n  var async = useAsync();\n  React.useEffect(function () {\n    var _a;\n\n    if (isMounted.current && !isCalendarShown) {\n      // In browsers like IE, textfield gets unfocused when datepicker is collapsed\n      if (allowTextInput) {\n        async.requestAnimationFrame(focus);\n      } // If DatePicker's menu (Calendar) is closed, run onAfterMenuDismiss\n\n\n      (_a = onAfterMenuDismiss) === null || _a === void 0 ? void 0 : _a();\n    }\n\n    isMounted.current = true; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isCalendarShown]);\n  return [isCalendarShown, setIsCalendarShown];\n}\n\nfunction useSelectedDate(_a) {\n  var formatDate = _a.formatDate,\n      value = _a.value,\n      onSelectDate = _a.onSelectDate;\n\n  var _b = useControllableValue(value, undefined, function (ev, newValue) {\n    var _a;\n\n    return (_a = onSelectDate) === null || _a === void 0 ? void 0 : _a(newValue);\n  }),\n      selectedDate = _b[0],\n      setSelectedDateState = _b[1];\n\n  var _c = React.useState(function () {\n    return value && formatDate ? formatDate(value) : '';\n  }),\n      formattedDate = _c[0],\n      setFormattedDate = _c[1];\n\n  var setSelectedDate = function (newDate) {\n    setSelectedDateState(newDate);\n    setFormattedDate(newDate && formatDate ? formatDate(newDate) : '');\n  };\n\n  React.useEffect(function () {\n    setFormattedDate(value && formatDate ? formatDate(value) : '');\n  }, [formatDate, value]);\n  return [selectedDate, formattedDate, setSelectedDate, setFormattedDate];\n}\n\nfunction useErrorMessage(_a, selectedDate, setSelectedDate, inputValue, isCalendarShown) {\n  var isRequired = _a.isRequired,\n      allowTextInput = _a.allowTextInput,\n      strings = _a.strings,\n      parseDateFromString = _a.parseDateFromString,\n      onSelectDate = _a.onSelectDate,\n      formatDate = _a.formatDate,\n      minDate = _a.minDate,\n      maxDate = _a.maxDate;\n\n  var _b = React.useState(),\n      errorMessage = _b[0],\n      setErrorMessage = _b[1];\n\n  var _c = React.useState(),\n      statusMessage = _c[0],\n      setStatusMessage = _c[1];\n\n  var validateTextInput = function (date) {\n    if (date === void 0) {\n      date = null;\n    }\n\n    var _a;\n\n    if (allowTextInput) {\n      if (inputValue || date) {\n        // Don't parse if the selected date has the same formatted string as what we're about to parse.\n        // The formatted string might be ambiguous (ex: \"1/2/3\" or \"New Year Eve\") and the parser might\n        // not be able to come up with the exact same date.\n        if (selectedDate && !errorMessage && formatDate && formatDate(date !== null && date !== void 0 ? date : selectedDate) === inputValue) {\n          return;\n        }\n\n        date = date || parseDateFromString(inputValue); // Check if date is null, or date is Invalid Date\n\n        if (!date || isNaN(date.getTime())) {\n          // Reset invalid input field, if formatting is available\n          setSelectedDate(selectedDate); // default the newer isResetStatusMessage string to invalidInputErrorMessage for legacy support\n\n          var selectedText = formatDate ? formatDate(selectedDate) : '';\n          var statusText = strings.isResetStatusMessage ? format(strings.isResetStatusMessage, inputValue, selectedText) : strings.invalidInputErrorMessage || '';\n          setStatusMessage(statusText);\n        } else {\n          // Check against optional date boundaries\n          if (isDateOutOfBounds(date, minDate, maxDate)) {\n            setErrorMessage(strings.isOutOfBoundsErrorMessage || ' ');\n          } else {\n            setSelectedDate(date);\n            setErrorMessage(undefined);\n            setStatusMessage(undefined);\n          }\n        }\n      } else {\n        // Only show error for empty inputValue if it is a required field\n        setErrorMessage(isRequired ? strings.isRequiredErrorMessage || ' ' : undefined); // If no input date string or input date string is invalid\n        // date variable will be null, callback should expect null value for this case\n\n        (_a = onSelectDate) === null || _a === void 0 ? void 0 : _a(date);\n      }\n    } else if (isRequired && !inputValue) {\n      // Check when DatePicker is a required field but has NO input value\n      setErrorMessage(strings.isRequiredErrorMessage || ' ');\n    } else {\n      // Cleanup the error message and status message\n      setErrorMessage(undefined);\n      setStatusMessage(undefined);\n    }\n  };\n\n  React.useEffect(function () {\n    if (isRequired && !selectedDate) {\n      setErrorMessage(strings.isRequiredErrorMessage || ' ');\n    } else if (selectedDate && isDateOutOfBounds(selectedDate, minDate, maxDate)) {\n      setErrorMessage(strings.isOutOfBoundsErrorMessage || ' ');\n    } else {\n      setErrorMessage(undefined);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [// We don't want to compare the date itself, since two instances of date at the same time are not equal\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  minDate && getDatePartHashValue(minDate), // eslint-disable-next-line react-hooks/exhaustive-deps\n  maxDate && getDatePartHashValue(maxDate), // eslint-disable-next-line react-hooks/exhaustive-deps\n  selectedDate && getDatePartHashValue(selectedDate), isRequired]);\n  return [isCalendarShown ? undefined : errorMessage, validateTextInput, setErrorMessage, isCalendarShown ? undefined : statusMessage, setStatusMessage];\n}\n\nexport var DatePickerBase = React.forwardRef(function (propsWithoutDefaults, forwardedRef) {\n  var props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n  var firstDayOfWeek = props.firstDayOfWeek,\n      strings = props.strings,\n      label = props.label,\n      theme = props.theme,\n      className = props.className,\n      styles = props.styles,\n      initialPickerDate = props.initialPickerDate,\n      isRequired = props.isRequired,\n      disabled = props.disabled,\n      ariaLabel = props.ariaLabel,\n      pickerAriaLabel = props.pickerAriaLabel,\n      placeholder = props.placeholder,\n      allowTextInput = props.allowTextInput,\n      borderless = props.borderless,\n      minDate = props.minDate,\n      maxDate = props.maxDate,\n      showCloseButton = props.showCloseButton,\n      calendarProps = props.calendarProps,\n      calloutProps = props.calloutProps,\n      textFieldProps = props.textField,\n      underlined = props.underlined,\n      allFocusable = props.allFocusable,\n      _a = props.calendarAs,\n      CalendarType = _a === void 0 ? Calendar : _a,\n      tabIndex = props.tabIndex,\n      _b = props.disableAutoFocus,\n      disableAutoFocus = _b === void 0 ? true : _b;\n  var id = useId('DatePicker', props.id);\n  var calloutId = useId('DatePicker-Callout');\n  var calendar = React.useRef(null);\n  var datePickerDiv = React.useRef(null);\n\n  var _c = useFocusLogic(),\n      textFieldRef = _c[0],\n      focus = _c[1],\n      preventFocusOpeningPicker = _c[2],\n      preventNextFocusOpeningPicker = _c[3];\n\n  var _d = useCalendarVisibility(props, focus),\n      isCalendarShown = _d[0],\n      setIsCalendarShown = _d[1];\n\n  var _e = useSelectedDate(props),\n      selectedDate = _e[0],\n      formattedDate = _e[1],\n      setSelectedDate = _e[2],\n      setFormattedDate = _e[3];\n\n  var _f = useErrorMessage(props, selectedDate, setSelectedDate, formattedDate, isCalendarShown),\n      errorMessage = _f[0],\n      validateTextInput = _f[1],\n      setErrorMessage = _f[2],\n      statusMessage = _f[3],\n      setStatusMessage = _f[4];\n\n  var showDatePickerPopup = React.useCallback(function () {\n    if (!isCalendarShown) {\n      preventNextFocusOpeningPicker();\n      setIsCalendarShown(true);\n    }\n  }, [isCalendarShown, preventNextFocusOpeningPicker, setIsCalendarShown]);\n  React.useImperativeHandle(props.componentRef, function () {\n    return {\n      focus: focus,\n      reset: function () {\n        setIsCalendarShown(false);\n        setSelectedDate(undefined);\n        setErrorMessage(undefined);\n        setStatusMessage(undefined);\n      },\n      showDatePickerPopup: showDatePickerPopup\n    };\n  }, [focus, setErrorMessage, setIsCalendarShown, setSelectedDate, setStatusMessage, showDatePickerPopup]);\n\n  var onTextFieldFocus = function () {\n    if (disableAutoFocus) {\n      return;\n    }\n\n    if (!allowTextInput) {\n      if (!preventFocusOpeningPicker.current) {\n        showDatePickerPopup();\n      }\n\n      preventFocusOpeningPicker.current = false;\n    }\n  };\n\n  var onSelectDate = function (date) {\n    if (props.calendarProps && props.calendarProps.onSelectDate) {\n      props.calendarProps.onSelectDate(date);\n    }\n\n    calendarDismissed(date);\n  };\n\n  var onCalloutPositioned = function () {\n    var shouldFocus = true; // If the user has specified that the callout shouldn't use initial focus, then respect\n    // that and don't attempt to set focus. That will default to true within the callout\n    // so we need to check if it's undefined here.\n\n    if (props.calloutProps && props.calloutProps.setInitialFocus !== undefined) {\n      shouldFocus = props.calloutProps.setInitialFocus;\n    }\n\n    if (calendar.current && shouldFocus) {\n      calendar.current.focus();\n    }\n  };\n\n  var onTextFieldBlur = function (ev) {\n    validateTextInput();\n  };\n\n  var onTextFieldChanged = function (ev, newValue) {\n    var _a, _b, _c;\n\n    var textField = props.textField;\n\n    if (allowTextInput) {\n      if (isCalendarShown) {\n        dismissDatePickerPopup();\n      }\n\n      setFormattedDate(newValue);\n    }\n\n    (_c = (_a = textField) === null || _a === void 0 ? void 0 : (_b = _a).onChange) === null || _c === void 0 ? void 0 : _c.call(_b, ev, newValue);\n  };\n\n  var onTextFieldKeyDown = function (ev) {\n    // eslint-disable-next-line deprecation/deprecation\n    switch (ev.which) {\n      case KeyCodes.enter:\n        ev.preventDefault();\n        ev.stopPropagation();\n\n        if (!isCalendarShown) {\n          validateTextInput();\n          showDatePickerPopup();\n        } else {\n          // When DatePicker allows input date string directly,\n          // it is expected to hit another enter to close the popup\n          if (props.allowTextInput) {\n            dismissDatePickerPopup();\n          }\n        }\n\n        break;\n\n      case KeyCodes.escape:\n        handleEscKey(ev);\n        break;\n\n      case KeyCodes.down:\n        if (ev.altKey && !isCalendarShown) {\n          showDatePickerPopup();\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  var onTextFieldClick = function (ev) {\n    // default openOnClick to !props.disableAutoFocus for legacy support of disableAutoFocus behavior\n    var openOnClick = props.openOnClick || !props.disableAutoFocus;\n\n    if (openOnClick && !isCalendarShown && !props.disabled) {\n      showDatePickerPopup();\n      return;\n    }\n\n    if (props.allowTextInput) {\n      dismissDatePickerPopup();\n    }\n  };\n\n  var onIconClick = function (ev) {\n    ev.stopPropagation();\n\n    if (!isCalendarShown && !props.disabled) {\n      showDatePickerPopup();\n    } else if (props.allowTextInput) {\n      dismissDatePickerPopup();\n    }\n  };\n\n  var dismissDatePickerPopup = function (newlySelectedDate) {\n    if (isCalendarShown) {\n      setIsCalendarShown(false);\n      validateTextInput(newlySelectedDate);\n\n      if (!allowTextInput && newlySelectedDate) {\n        setSelectedDate(newlySelectedDate);\n      }\n    }\n  };\n\n  var renderTextfieldDescription = function (inputProps, defaultRender) {\n    return React.createElement(React.Fragment, null, inputProps.description ? defaultRender(inputProps) : null, React.createElement(\"div\", {\n      \"aria-live\": \"assertive\",\n      className: classNames.statusMessage\n    }, statusMessage));\n  };\n  /**\n   * Callback for closing the calendar callout\n   */\n\n\n  var calendarDismissed = function (newlySelectedDate) {\n    preventNextFocusOpeningPicker();\n    dismissDatePickerPopup(newlySelectedDate); // don't need to focus the text box, if necessary the focusTrapZone will do it\n  };\n\n  var calloutDismissed = function (ev) {\n    calendarDismissed();\n  };\n\n  var handleEscKey = function (ev) {\n    ev.stopPropagation();\n    calendarDismissed();\n  };\n\n  var classNames = getClassNames(styles, {\n    theme: theme,\n    className: className,\n    disabled: disabled,\n    label: !!label,\n    isDatePickerShown: isCalendarShown\n  });\n  var nativeProps = getNativeProps(props, divProperties, ['value']);\n  var iconProps = textFieldProps && textFieldProps.iconProps;\n  return React.createElement(\"div\", __assign({}, nativeProps, {\n    className: classNames.root,\n    ref: forwardedRef\n  }), React.createElement(\"div\", {\n    ref: datePickerDiv,\n    \"aria-haspopup\": \"true\",\n    \"aria-owns\": isCalendarShown ? calloutId : undefined,\n    className: classNames.wrapper\n  }, React.createElement(TextField, __assign({\n    role: \"combobox\",\n    label: label,\n    \"aria-expanded\": isCalendarShown,\n    ariaLabel: ariaLabel,\n    \"aria-controls\": isCalendarShown ? calloutId : undefined,\n    required: isRequired,\n    disabled: disabled,\n    errorMessage: errorMessage,\n    placeholder: placeholder,\n    borderless: borderless,\n    value: formattedDate,\n    componentRef: textFieldRef,\n    underlined: underlined,\n    tabIndex: tabIndex,\n    readOnly: !allowTextInput\n  }, textFieldProps, {\n    id: id + '-label',\n    className: css(classNames.textField, textFieldProps && textFieldProps.className),\n    iconProps: __assign(__assign({\n      iconName: 'Calendar'\n    }, iconProps), {\n      className: css(classNames.icon, iconProps && iconProps.className),\n      onClick: onIconClick\n    }),\n    // eslint-disable-next-line react/jsx-no-bind\n    onRenderDescription: renderTextfieldDescription,\n    // eslint-disable-next-line react/jsx-no-bind\n    onKeyDown: onTextFieldKeyDown,\n    // eslint-disable-next-line react/jsx-no-bind\n    onFocus: onTextFieldFocus,\n    // eslint-disable-next-line react/jsx-no-bind\n    onBlur: onTextFieldBlur,\n    // eslint-disable-next-line react/jsx-no-bind\n    onClick: onTextFieldClick,\n    // eslint-disable-next-line react/jsx-no-bind\n    onChange: onTextFieldChanged\n  }))), isCalendarShown && React.createElement(Callout, __assign({\n    id: calloutId,\n    role: \"dialog\",\n    ariaLabel: pickerAriaLabel,\n    isBeakVisible: false,\n    gapSpace: 0,\n    doNotLayer: false,\n    target: datePickerDiv.current,\n    directionalHint: DirectionalHint.bottomLeftEdge\n  }, calloutProps, {\n    className: css(classNames.callout, calloutProps && calloutProps.className),\n    // eslint-disable-next-line react/jsx-no-bind\n    onDismiss: calloutDismissed,\n    // eslint-disable-next-line react/jsx-no-bind\n    onPositioned: onCalloutPositioned\n  }), React.createElement(FocusTrapZone, {\n    isClickableOutsideFocusTrap: true,\n    disableFirstFocus: disableAutoFocus\n  }, React.createElement(CalendarType, __assign({}, calendarProps, {\n    // eslint-disable-next-line react/jsx-no-bind\n    onSelectDate: onSelectDate,\n    // eslint-disable-next-line react/jsx-no-bind\n    onDismiss: calendarDismissed,\n    isMonthPickerVisible: props.isMonthPickerVisible,\n    showMonthPickerAsOverlay: props.showMonthPickerAsOverlay,\n    today: props.today,\n    value: selectedDate || initialPickerDate,\n    firstDayOfWeek: firstDayOfWeek,\n    strings: strings,\n    highlightCurrentMonth: props.highlightCurrentMonth,\n    highlightSelectedMonth: props.highlightSelectedMonth,\n    showWeekNumbers: props.showWeekNumbers,\n    firstWeekOfYear: props.firstWeekOfYear,\n    showGoToToday: props.showGoToToday,\n    dateTimeFormatter: props.dateTimeFormatter,\n    minDate: minDate,\n    maxDate: maxDate,\n    componentRef: calendar,\n    showCloseButton: showCloseButton,\n    allFocusable: allFocusable\n  })))));\n});\nDatePickerBase.displayName = 'DatePickerBase';\n\nfunction isDateOutOfBounds(date, minDate, maxDate) {\n  return !!minDate && compareDatePart(minDate, date) > 0 || !!maxDate && compareDatePart(maxDate, date) < 0;\n}","map":{"version":3,"sources":["components/DatePicker/DatePicker.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { IDatePickerProps, IDatePickerStyleProps, IDatePickerStyles } from './DatePicker.types';\nimport {\n  KeyCodes,\n  classNamesFunction,\n  getNativeProps,\n  divProperties,\n  css,\n  format,\n  getPropsWithDefaults,\n  IRenderFunction,\n} from '@fluentui/utilities';\nimport { Calendar, ICalendar } from '../../Calendar';\nimport { FirstWeekOfYear, getDatePartHashValue, compareDatePart, DayOfWeek } from '@fluentui/date-time-utilities';\nimport { Callout, DirectionalHint } from '../../Callout';\nimport { TextField, ITextField, ITextFieldProps } from '../../TextField';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { useId, useAsync, useControllableValue } from '@fluentui/react-hooks';\nimport { defaultDatePickerStrings } from './defaults';\n\nconst getClassNames = classNamesFunction<IDatePickerStyleProps, IDatePickerStyles>();\n\nconst DEFAULT_PROPS: IDatePickerProps = {\n  allowTextInput: false,\n  formatDate: (date: Date) => (date ? date.toDateString() : ''),\n  parseDateFromString: (dateStr: string) => {\n    const date = Date.parse(dateStr);\n    return date ? new Date(date) : null;\n  },\n  firstDayOfWeek: DayOfWeek.Sunday,\n  initialPickerDate: new Date(),\n  isRequired: false,\n  isMonthPickerVisible: true,\n  showMonthPickerAsOverlay: false,\n  strings: defaultDatePickerStrings,\n  highlightCurrentMonth: false,\n  highlightSelectedMonth: false,\n  borderless: false,\n  pickerAriaLabel: 'Calendar',\n  showWeekNumbers: false,\n  firstWeekOfYear: FirstWeekOfYear.FirstDay,\n  showGoToToday: true,\n  showCloseButton: false,\n  underlined: false,\n  allFocusable: false,\n};\n\nfunction useFocusLogic() {\n  const textFieldRef = React.useRef<ITextField>(null);\n  const preventFocusOpeningPicker = React.useRef(false);\n\n  const focus = () => {\n    textFieldRef.current?.focus?.();\n  };\n\n  const preventNextFocusOpeningPicker = () => {\n    preventFocusOpeningPicker.current = true;\n  };\n\n  return [textFieldRef, focus, preventFocusOpeningPicker, preventNextFocusOpeningPicker] as const;\n}\n\nfunction useCalendarVisibility({ allowTextInput, onAfterMenuDismiss }: IDatePickerProps, focus: () => void) {\n  const [isCalendarShown, setIsCalendarShown] = React.useState(false);\n  const isMounted = React.useRef(false);\n  const async = useAsync();\n\n  React.useEffect(() => {\n    if (isMounted.current && !isCalendarShown) {\n      // In browsers like IE, textfield gets unfocused when datepicker is collapsed\n      if (allowTextInput) {\n        async.requestAnimationFrame(focus);\n      }\n\n      // If DatePicker's menu (Calendar) is closed, run onAfterMenuDismiss\n      onAfterMenuDismiss?.();\n    }\n    isMounted.current = true;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isCalendarShown]);\n\n  return [isCalendarShown, setIsCalendarShown] as const;\n}\n\nfunction useSelectedDate({ formatDate, value, onSelectDate }: IDatePickerProps) {\n  const [selectedDate, setSelectedDateState] = useControllableValue(value, undefined, (ev, newValue) =>\n    onSelectDate?.(newValue),\n  );\n  const [formattedDate, setFormattedDate] = React.useState(() => (value && formatDate ? formatDate(value) : ''));\n\n  const setSelectedDate = (newDate: Date | undefined) => {\n    setSelectedDateState(newDate);\n    setFormattedDate(newDate && formatDate ? formatDate(newDate) : '');\n  };\n\n  React.useEffect(() => {\n    setFormattedDate(value && formatDate ? formatDate(value) : '');\n  }, [formatDate, value]);\n\n  return [selectedDate, formattedDate, setSelectedDate, setFormattedDate] as const;\n}\n\nfunction useErrorMessage(\n  {\n    isRequired,\n    allowTextInput,\n    strings,\n    parseDateFromString,\n    onSelectDate,\n    formatDate,\n    minDate,\n    maxDate,\n  }: IDatePickerProps,\n  selectedDate: Date | undefined,\n  setSelectedDate: (date: Date | undefined) => void,\n  inputValue: string,\n  isCalendarShown: boolean,\n) {\n  const [errorMessage, setErrorMessage] = React.useState<string | undefined>();\n  const [statusMessage, setStatusMessage] = React.useState<string | undefined>();\n\n  const validateTextInput = (date: Date | null = null): void => {\n    if (allowTextInput) {\n      if (inputValue || date) {\n        // Don't parse if the selected date has the same formatted string as what we're about to parse.\n        // The formatted string might be ambiguous (ex: \"1/2/3\" or \"New Year Eve\") and the parser might\n        // not be able to come up with the exact same date.\n        if (selectedDate && !errorMessage && formatDate && formatDate(date ?? selectedDate) === inputValue) {\n          return;\n        }\n        date = date || parseDateFromString!(inputValue);\n\n        // Check if date is null, or date is Invalid Date\n        if (!date || isNaN(date.getTime())) {\n          // Reset invalid input field, if formatting is available\n          setSelectedDate(selectedDate);\n          // default the newer isResetStatusMessage string to invalidInputErrorMessage for legacy support\n          const selectedText = formatDate ? formatDate(selectedDate) : '';\n          const statusText = strings!.isResetStatusMessage\n            ? format(strings!.isResetStatusMessage, inputValue, selectedText)\n            : strings!.invalidInputErrorMessage || '';\n          setStatusMessage(statusText);\n        } else {\n          // Check against optional date boundaries\n          if (isDateOutOfBounds(date, minDate, maxDate)) {\n            setErrorMessage(strings!.isOutOfBoundsErrorMessage || ' ');\n          } else {\n            setSelectedDate(date);\n            setErrorMessage(undefined);\n            setStatusMessage(undefined);\n          }\n        }\n      } else {\n        // Only show error for empty inputValue if it is a required field\n        setErrorMessage(isRequired ? strings!.isRequiredErrorMessage || ' ' : undefined);\n\n        // If no input date string or input date string is invalid\n        // date variable will be null, callback should expect null value for this case\n        onSelectDate?.(date);\n      }\n    } else if (isRequired && !inputValue) {\n      // Check when DatePicker is a required field but has NO input value\n      setErrorMessage(strings!.isRequiredErrorMessage || ' ');\n    } else {\n      // Cleanup the error message and status message\n      setErrorMessage(undefined);\n      setStatusMessage(undefined);\n    }\n  };\n\n  React.useEffect(() => {\n    if (isRequired && !selectedDate) {\n      setErrorMessage(strings!.isRequiredErrorMessage || ' ');\n    } else if (selectedDate && isDateOutOfBounds(selectedDate, minDate, maxDate)) {\n      setErrorMessage(strings!.isOutOfBoundsErrorMessage || ' ');\n    } else {\n      setErrorMessage(undefined);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    // We don't want to compare the date itself, since two instances of date at the same time are not equal\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    minDate && getDatePartHashValue(minDate),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    maxDate && getDatePartHashValue(maxDate),\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    selectedDate && getDatePartHashValue(selectedDate),\n    isRequired,\n  ]);\n\n  return [\n    isCalendarShown ? undefined : errorMessage,\n    validateTextInput,\n    setErrorMessage,\n    isCalendarShown ? undefined : statusMessage,\n    setStatusMessage,\n  ] as const;\n}\n\nexport const DatePickerBase: React.FunctionComponent<IDatePickerProps> = React.forwardRef<\n  HTMLDivElement,\n  IDatePickerProps\n>((propsWithoutDefaults, forwardedRef) => {\n  const props = getPropsWithDefaults(DEFAULT_PROPS, propsWithoutDefaults);\n\n  const {\n    firstDayOfWeek,\n    strings,\n    label,\n    theme,\n    className,\n    styles,\n    initialPickerDate,\n    isRequired,\n    disabled,\n    ariaLabel,\n    pickerAriaLabel,\n    placeholder,\n    allowTextInput,\n    borderless,\n    minDate,\n    maxDate,\n    showCloseButton,\n    calendarProps,\n    calloutProps,\n    textField: textFieldProps,\n    underlined,\n    allFocusable,\n    calendarAs: CalendarType = Calendar,\n    tabIndex,\n    disableAutoFocus = true,\n  } = props;\n\n  const id = useId('DatePicker', props.id);\n  const calloutId = useId('DatePicker-Callout');\n\n  const calendar = React.useRef<ICalendar>(null);\n  const datePickerDiv = React.useRef<HTMLDivElement>(null);\n\n  const [textFieldRef, focus, preventFocusOpeningPicker, preventNextFocusOpeningPicker] = useFocusLogic();\n  const [isCalendarShown, setIsCalendarShown] = useCalendarVisibility(props, focus);\n  const [selectedDate, formattedDate, setSelectedDate, setFormattedDate] = useSelectedDate(props);\n  const [errorMessage, validateTextInput, setErrorMessage, statusMessage, setStatusMessage] = useErrorMessage(\n    props,\n    selectedDate,\n    setSelectedDate,\n    formattedDate,\n    isCalendarShown,\n  );\n\n  const showDatePickerPopup = React.useCallback((): void => {\n    if (!isCalendarShown) {\n      preventNextFocusOpeningPicker();\n      setIsCalendarShown(true);\n    }\n  }, [isCalendarShown, preventNextFocusOpeningPicker, setIsCalendarShown]);\n\n  React.useImperativeHandle(\n    props.componentRef,\n    () => ({\n      focus,\n      reset() {\n        setIsCalendarShown(false);\n        setSelectedDate(undefined);\n        setErrorMessage(undefined);\n        setStatusMessage(undefined);\n      },\n      showDatePickerPopup,\n    }),\n    [focus, setErrorMessage, setIsCalendarShown, setSelectedDate, setStatusMessage, showDatePickerPopup],\n  );\n\n  const onTextFieldFocus = (): void => {\n    if (disableAutoFocus) {\n      return;\n    }\n\n    if (!allowTextInput) {\n      if (!preventFocusOpeningPicker.current) {\n        showDatePickerPopup();\n      }\n      preventFocusOpeningPicker.current = false;\n    }\n  };\n\n  const onSelectDate = (date: Date): void => {\n    if (props.calendarProps && props.calendarProps.onSelectDate) {\n      props.calendarProps.onSelectDate(date);\n    }\n\n    calendarDismissed(date);\n  };\n\n  const onCalloutPositioned = (): void => {\n    let shouldFocus = true;\n    // If the user has specified that the callout shouldn't use initial focus, then respect\n    // that and don't attempt to set focus. That will default to true within the callout\n    // so we need to check if it's undefined here.\n    if (props.calloutProps && props.calloutProps.setInitialFocus !== undefined) {\n      shouldFocus = props.calloutProps.setInitialFocus;\n    }\n    if (calendar.current && shouldFocus) {\n      calendar.current.focus();\n    }\n  };\n\n  const onTextFieldBlur = (ev: React.FocusEvent<HTMLElement>): void => {\n    validateTextInput();\n  };\n\n  const onTextFieldChanged = (ev: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>, newValue: string): void => {\n    const { textField } = props;\n\n    if (allowTextInput) {\n      if (isCalendarShown) {\n        dismissDatePickerPopup();\n      }\n\n      setFormattedDate(newValue);\n    }\n\n    textField?.onChange?.(ev, newValue);\n  };\n\n  const onTextFieldKeyDown = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    // eslint-disable-next-line deprecation/deprecation\n    switch (ev.which) {\n      case KeyCodes.enter:\n        ev.preventDefault();\n        ev.stopPropagation();\n        if (!isCalendarShown) {\n          validateTextInput();\n          showDatePickerPopup();\n        } else {\n          // When DatePicker allows input date string directly,\n          // it is expected to hit another enter to close the popup\n          if (props.allowTextInput) {\n            dismissDatePickerPopup();\n          }\n        }\n        break;\n\n      case KeyCodes.escape:\n        handleEscKey(ev);\n        break;\n\n      case KeyCodes.down:\n        if (ev.altKey && !isCalendarShown) {\n          showDatePickerPopup();\n        }\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const onTextFieldClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    // default openOnClick to !props.disableAutoFocus for legacy support of disableAutoFocus behavior\n    const openOnClick = props.openOnClick || !props.disableAutoFocus;\n    if (openOnClick && !isCalendarShown && !props.disabled) {\n      showDatePickerPopup();\n      return;\n    }\n    if (props.allowTextInput) {\n      dismissDatePickerPopup();\n    }\n  };\n\n  const onIconClick = (ev: React.MouseEvent<HTMLElement>): void => {\n    ev.stopPropagation();\n    if (!isCalendarShown && !props.disabled) {\n      showDatePickerPopup();\n    } else if (props.allowTextInput) {\n      dismissDatePickerPopup();\n    }\n  };\n\n  const dismissDatePickerPopup = (newlySelectedDate?: Date): void => {\n    if (isCalendarShown) {\n      setIsCalendarShown(false);\n\n      validateTextInput(newlySelectedDate);\n      if (!allowTextInput && newlySelectedDate) {\n        setSelectedDate(newlySelectedDate);\n      }\n    }\n  };\n\n  const renderTextfieldDescription = (inputProps: ITextFieldProps, defaultRender: IRenderFunction<ITextFieldProps>) => {\n    return (\n      <>\n        {inputProps.description ? defaultRender(inputProps) : null}\n        <div aria-live=\"assertive\" className={classNames.statusMessage}>\n          {statusMessage}\n        </div>\n      </>\n    );\n  };\n\n  /**\n   * Callback for closing the calendar callout\n   */\n  const calendarDismissed = (newlySelectedDate?: Date): void => {\n    preventNextFocusOpeningPicker();\n    dismissDatePickerPopup(newlySelectedDate);\n    // don't need to focus the text box, if necessary the focusTrapZone will do it\n  };\n\n  const calloutDismissed = (ev: React.MouseEvent<HTMLElement>): void => {\n    calendarDismissed();\n  };\n\n  const handleEscKey = (ev: React.KeyboardEvent<HTMLElement>): void => {\n    ev.stopPropagation();\n    calendarDismissed();\n  };\n\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    className,\n    disabled,\n    label: !!label,\n    isDatePickerShown: isCalendarShown,\n  });\n\n  const nativeProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(props, divProperties, ['value']);\n  const iconProps = textFieldProps && textFieldProps.iconProps;\n\n  return (\n    <div {...nativeProps} className={classNames.root} ref={forwardedRef}>\n      <div\n        ref={datePickerDiv}\n        aria-haspopup=\"true\"\n        aria-owns={isCalendarShown ? calloutId : undefined}\n        className={classNames.wrapper}\n      >\n        <TextField\n          role=\"combobox\"\n          label={label}\n          aria-expanded={isCalendarShown}\n          ariaLabel={ariaLabel}\n          aria-controls={isCalendarShown ? calloutId : undefined}\n          required={isRequired}\n          disabled={disabled}\n          errorMessage={errorMessage}\n          placeholder={placeholder}\n          borderless={borderless}\n          value={formattedDate}\n          componentRef={textFieldRef}\n          underlined={underlined}\n          tabIndex={tabIndex}\n          readOnly={!allowTextInput}\n          {...textFieldProps}\n          id={id + '-label'}\n          className={css(classNames.textField, textFieldProps && textFieldProps.className)}\n          iconProps={{\n            iconName: 'Calendar',\n            ...iconProps,\n            className: css(classNames.icon, iconProps && iconProps.className),\n            onClick: onIconClick,\n          }}\n          // eslint-disable-next-line react/jsx-no-bind\n          onRenderDescription={renderTextfieldDescription}\n          // eslint-disable-next-line react/jsx-no-bind\n          onKeyDown={onTextFieldKeyDown}\n          // eslint-disable-next-line react/jsx-no-bind\n          onFocus={onTextFieldFocus}\n          // eslint-disable-next-line react/jsx-no-bind\n          onBlur={onTextFieldBlur}\n          // eslint-disable-next-line react/jsx-no-bind\n          onClick={onTextFieldClick}\n          // eslint-disable-next-line react/jsx-no-bind\n          onChange={onTextFieldChanged}\n        />\n      </div>\n      {isCalendarShown && (\n        <Callout\n          id={calloutId}\n          role=\"dialog\"\n          ariaLabel={pickerAriaLabel}\n          isBeakVisible={false}\n          gapSpace={0}\n          doNotLayer={false}\n          target={datePickerDiv.current}\n          directionalHint={DirectionalHint.bottomLeftEdge}\n          {...calloutProps}\n          className={css(classNames.callout, calloutProps && calloutProps.className)}\n          // eslint-disable-next-line react/jsx-no-bind\n          onDismiss={calloutDismissed}\n          // eslint-disable-next-line react/jsx-no-bind\n          onPositioned={onCalloutPositioned}\n        >\n          <FocusTrapZone isClickableOutsideFocusTrap={true} disableFirstFocus={disableAutoFocus}>\n            <CalendarType\n              {...calendarProps}\n              // eslint-disable-next-line react/jsx-no-bind\n              onSelectDate={onSelectDate}\n              // eslint-disable-next-line react/jsx-no-bind\n              onDismiss={calendarDismissed}\n              isMonthPickerVisible={props.isMonthPickerVisible}\n              showMonthPickerAsOverlay={props.showMonthPickerAsOverlay}\n              today={props.today}\n              value={selectedDate || initialPickerDate}\n              firstDayOfWeek={firstDayOfWeek}\n              strings={strings!}\n              highlightCurrentMonth={props.highlightCurrentMonth}\n              highlightSelectedMonth={props.highlightSelectedMonth}\n              showWeekNumbers={props.showWeekNumbers}\n              firstWeekOfYear={props.firstWeekOfYear}\n              showGoToToday={props.showGoToToday}\n              dateTimeFormatter={props.dateTimeFormatter}\n              minDate={minDate}\n              maxDate={maxDate}\n              componentRef={calendar}\n              showCloseButton={showCloseButton}\n              allFocusable={allFocusable}\n            />\n          </FocusTrapZone>\n        </Callout>\n      )}\n    </div>\n  );\n});\nDatePickerBase.displayName = 'DatePickerBase';\n\nfunction isDateOutOfBounds(date: Date, minDate?: Date, maxDate?: Date): boolean {\n  return (!!minDate && compareDatePart(minDate!, date) > 0) || (!!maxDate && compareDatePart(maxDate!, date) < 0);\n}\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction } from '../../Utilities';\nimport { TeachingBubbleContent } from './TeachingBubbleContent';\nimport { Callout } from '../../Callout';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { useMergedRefs } from '@fluentui/react-hooks';\nvar COMPONENT_NAME = 'TeachingBubble';\nvar defaultCalloutProps = {\n  beakWidth: 16,\n  gapSpace: 0,\n  setInitialFocus: true,\n  doNotLayer: false,\n  directionalHint: DirectionalHint.rightCenter\n};\nvar getClassNames = classNamesFunction();\n\nvar useComponentRef = function (componentRef, rootElementRef) {\n  React.useImperativeHandle(componentRef, function () {\n    return {\n      focus: function () {\n        var _a;\n\n        return (_a = rootElementRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    };\n  }, [rootElementRef]);\n};\n\nexport var TeachingBubbleBase = React.forwardRef(function (props, forwardedRef) {\n  var rootElementRef = React.useRef(null);\n  var mergedRootRef = useMergedRefs(rootElementRef, forwardedRef);\n  var setCalloutProps = props.calloutProps,\n      // eslint-disable-next-line deprecation/deprecation\n  targetElement = props.targetElement,\n      onDismiss = props.onDismiss,\n      // eslint-disable-next-line deprecation/deprecation\n  _a = props.hasCloseButton,\n      // eslint-disable-next-line deprecation/deprecation\n  hasCloseButton = _a === void 0 ? props.hasCloseIcon : _a,\n      isWide = props.isWide,\n      styles = props.styles,\n      theme = props.theme,\n      target = props.target;\n  var calloutProps = React.useMemo(function () {\n    return __assign(__assign(__assign({}, defaultCalloutProps), setCalloutProps), {\n      theme: theme\n    });\n  }, [setCalloutProps, theme]);\n  var stylesProps = {\n    theme: theme,\n    isWide: isWide,\n    calloutProps: calloutProps,\n    hasCloseButton: hasCloseButton\n  };\n  var classNames = getClassNames(styles, stylesProps);\n  var calloutStyles = classNames.subComponentStyles ? classNames.subComponentStyles.callout : undefined;\n  useComponentRef(props.componentRef, rootElementRef);\n  return React.createElement(Callout, __assign({\n    target: target || targetElement,\n    onDismiss: onDismiss\n  }, calloutProps, {\n    className: classNames.root,\n    styles: calloutStyles,\n    hideOverflow: true\n  }), React.createElement(\"div\", {\n    ref: mergedRootRef\n  }, React.createElement(TeachingBubbleContent, __assign({}, props))));\n});\nTeachingBubbleBase.displayName = COMPONENT_NAME;","map":{"version":3,"sources":["components/TeachingBubble/TeachingBubble.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { classNamesFunction } from '../../Utilities';\nimport { TeachingBubbleContent } from './TeachingBubbleContent';\nimport {\n  ITeachingBubble,\n  ITeachingBubbleProps,\n  ITeachingBubbleStyleProps,\n  ITeachingBubbleStyles,\n  ITeachingBubbleSubComponentStyles,\n} from './TeachingBubble.types';\nimport { Callout, ICalloutProps } from '../../Callout';\nimport { DirectionalHint } from '../../common/DirectionalHint';\nimport { useMergedRefs } from '@fluentui/react-hooks';\n\nconst COMPONENT_NAME = 'TeachingBubble';\nconst defaultCalloutProps: ICalloutProps = {\n  beakWidth: 16,\n  gapSpace: 0,\n  setInitialFocus: true,\n  doNotLayer: false,\n  directionalHint: DirectionalHint.rightCenter,\n};\n\nconst getClassNames = classNamesFunction<ITeachingBubbleStyleProps, ITeachingBubbleStyles>();\nconst useComponentRef = (\n  componentRef: React.Ref<ITeachingBubble> | undefined,\n  rootElementRef: React.RefObject<HTMLDivElement>,\n) => {\n  React.useImperativeHandle(\n    componentRef,\n    () => ({\n      focus: () => rootElementRef.current?.focus(),\n    }),\n    [rootElementRef],\n  );\n};\n\nexport const TeachingBubbleBase: React.FunctionComponent<ITeachingBubbleProps> = React.forwardRef<\n  HTMLDivElement,\n  ITeachingBubbleProps\n>((props, forwardedRef) => {\n  const rootElementRef = React.useRef<HTMLDivElement>(null);\n  const mergedRootRef = useMergedRefs(rootElementRef, forwardedRef);\n  const {\n    calloutProps: setCalloutProps,\n    // eslint-disable-next-line deprecation/deprecation\n    targetElement,\n    onDismiss,\n    // eslint-disable-next-line deprecation/deprecation\n    hasCloseButton = props.hasCloseIcon,\n    isWide,\n    styles,\n    theme,\n    target,\n  } = props;\n\n  const calloutProps: ICalloutProps & Required<Pick<ICalloutProps, 'theme'>> = React.useMemo(\n    () => ({ ...defaultCalloutProps, ...setCalloutProps, theme: theme! }),\n    [setCalloutProps, theme],\n  );\n\n  const stylesProps: ITeachingBubbleStyleProps = {\n    theme: theme!,\n    isWide,\n    calloutProps,\n    hasCloseButton,\n  };\n\n  const classNames = getClassNames(styles, stylesProps);\n  const calloutStyles = classNames.subComponentStyles\n    ? (classNames.subComponentStyles as ITeachingBubbleSubComponentStyles).callout\n    : undefined;\n\n  useComponentRef(props.componentRef, rootElementRef);\n\n  return (\n    <Callout\n      target={target || targetElement}\n      onDismiss={onDismiss}\n      {...calloutProps}\n      className={classNames.root}\n      styles={calloutStyles}\n      hideOverflow\n    >\n      <div ref={mergedRootRef}>\n        <TeachingBubbleContent {...props} />\n      </div>\n    </Callout>\n  );\n});\nTeachingBubbleBase.displayName = COMPONENT_NAME;\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}
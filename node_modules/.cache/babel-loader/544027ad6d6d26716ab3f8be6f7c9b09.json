{"ast":null,"code":"import { __assign } from \"tslib\";\nimport * as React from 'react';\nimport { classNamesFunction, KeyCodes } from '../../Utilities';\nimport { PrimaryButton, DefaultButton, IconButton } from '../../Button';\nimport { Stack } from '../../Stack';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { Image } from '../../Image';\nimport { useOnEvent, useMergedRefs } from '@fluentui/react-hooks';\nimport { useDocument } from '../../WindowProvider';\nvar getClassNames = classNamesFunction();\n\nvar useComponentRef = function (componentRef, rootElementRef) {\n  React.useImperativeHandle(componentRef, function () {\n    return {\n      focus: function () {\n        var _a;\n\n        return (_a = rootElementRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n      }\n    };\n  }, [rootElementRef]);\n};\n\nexport var TeachingBubbleContentBase = React.forwardRef(function (props, forwardedRef) {\n  var rootElementRef = React.useRef(null);\n  var documentRef = useDocument();\n  var mergedRootRef = useMergedRefs(rootElementRef, forwardedRef);\n  var illustrationImage = props.illustrationImage,\n      primaryButtonProps = props.primaryButtonProps,\n      secondaryButtonProps = props.secondaryButtonProps,\n      headline = props.headline,\n      hasCondensedHeadline = props.hasCondensedHeadline,\n      // eslint-disable-next-line deprecation/deprecation\n  _a = props.hasCloseButton,\n      // eslint-disable-next-line deprecation/deprecation\n  hasCloseButton = _a === void 0 ? props.hasCloseIcon : _a,\n      onDismiss = props.onDismiss,\n      closeButtonAriaLabel = props.closeButtonAriaLabel,\n      hasSmallHeadline = props.hasSmallHeadline,\n      isWide = props.isWide,\n      styles = props.styles,\n      theme = props.theme,\n      ariaDescribedBy = props.ariaDescribedBy,\n      ariaLabelledBy = props.ariaLabelledBy,\n      customFooterContent = props.footerContent,\n      focusTrapZoneProps = props.focusTrapZoneProps;\n  var classNames = getClassNames(styles, {\n    theme: theme,\n    hasCondensedHeadline: hasCondensedHeadline,\n    hasSmallHeadline: hasSmallHeadline,\n    hasCloseButton: hasCloseButton,\n    hasHeadline: !!headline,\n    isWide: isWide,\n    primaryButtonClassName: primaryButtonProps ? primaryButtonProps.className : undefined,\n    secondaryButtonClassName: secondaryButtonProps ? secondaryButtonProps.className : undefined\n  });\n  var onKeyDown = React.useCallback(function (ev) {\n    if (onDismiss) {\n      // eslint-disable-next-line deprecation/deprecation\n      if (ev.which === KeyCodes.escape) {\n        onDismiss(ev);\n      }\n    }\n  }, [onDismiss]);\n  useOnEvent(documentRef, 'keydown', onKeyDown);\n  var imageContent;\n  var headerContent;\n  var bodyContent;\n  var footerContent;\n  var closeButton;\n\n  if (illustrationImage && illustrationImage.src) {\n    imageContent = React.createElement(\"div\", {\n      className: classNames.imageContent\n    }, React.createElement(Image, __assign({}, illustrationImage)));\n  }\n\n  if (headline) {\n    var HeaderWrapperAs = typeof headline === 'string' ? 'p' : 'div';\n    headerContent = React.createElement(\"div\", {\n      className: classNames.header\n    }, React.createElement(HeaderWrapperAs, {\n      role: \"heading\",\n      className: classNames.headline,\n      id: ariaLabelledBy\n    }, headline));\n  }\n\n  if (props.children) {\n    var BodyContentWrapperAs = typeof props.children === 'string' ? 'p' : 'div';\n    bodyContent = React.createElement(\"div\", {\n      className: classNames.body\n    }, React.createElement(BodyContentWrapperAs, {\n      className: classNames.subText,\n      id: ariaDescribedBy\n    }, props.children));\n  }\n\n  if (primaryButtonProps || secondaryButtonProps || customFooterContent) {\n    footerContent = React.createElement(Stack, {\n      className: classNames.footer,\n      horizontal: true,\n      horizontalAlign: customFooterContent ? 'space-between' : 'end'\n    }, React.createElement(Stack.Item, {\n      align: \"center\"\n    }, React.createElement(\"span\", null, customFooterContent)), React.createElement(Stack.Item, null, secondaryButtonProps && React.createElement(DefaultButton, __assign({}, secondaryButtonProps, {\n      className: classNames.secondaryButton\n    })), primaryButtonProps && React.createElement(PrimaryButton, __assign({}, primaryButtonProps, {\n      className: classNames.primaryButton\n    }))));\n  }\n\n  if (hasCloseButton) {\n    closeButton = React.createElement(IconButton, {\n      className: classNames.closeButton,\n      iconProps: {\n        iconName: 'Cancel'\n      },\n      title: closeButtonAriaLabel,\n      ariaLabel: closeButtonAriaLabel,\n      onClick: onDismiss\n    });\n  }\n\n  useComponentRef(props.componentRef, rootElementRef);\n  return React.createElement(\"div\", {\n    className: classNames.content,\n    ref: mergedRootRef,\n    role: 'dialog',\n    tabIndex: -1,\n    \"aria-labelledby\": ariaLabelledBy,\n    \"aria-describedby\": ariaDescribedBy,\n    \"data-is-focusable\": true\n  }, imageContent, React.createElement(FocusTrapZone, __assign({\n    isClickableOutsideFocusTrap: true\n  }, focusTrapZoneProps), React.createElement(\"div\", {\n    className: classNames.bodyContent\n  }, headerContent, bodyContent, footerContent, closeButton)));\n});","map":{"version":3,"sources":["components/TeachingBubble/TeachingBubbleContent.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { classNamesFunction, KeyCodes } from '../../Utilities';\nimport {\n  ITeachingBubbleProps,\n  ITeachingBubbleStyleProps,\n  ITeachingBubbleStyles,\n  ITeachingBubble,\n} from './TeachingBubble.types';\nimport { PrimaryButton, DefaultButton, IconButton } from '../../Button';\nimport { Stack } from '../../Stack';\nimport { FocusTrapZone } from '../../FocusTrapZone';\nimport { Image } from '../../Image';\nimport { useOnEvent, useMergedRefs } from '@fluentui/react-hooks';\nimport { useDocument } from '../../WindowProvider';\n\nconst getClassNames = classNamesFunction<ITeachingBubbleStyleProps, ITeachingBubbleStyles>();\n\nconst useComponentRef = (\n  componentRef: React.Ref<ITeachingBubble> | undefined,\n  rootElementRef: React.RefObject<HTMLDivElement>,\n) => {\n  React.useImperativeHandle(\n    componentRef,\n    () => ({\n      focus: () => rootElementRef.current?.focus(),\n    }),\n    [rootElementRef],\n  );\n};\n\nexport const TeachingBubbleContentBase: React.FunctionComponent<ITeachingBubbleProps> = React.forwardRef<\n  HTMLDivElement,\n  ITeachingBubbleProps\n>((props, forwardedRef) => {\n  const rootElementRef = React.useRef<HTMLDivElement>(null);\n  const documentRef = useDocument();\n  const mergedRootRef = useMergedRefs(rootElementRef, forwardedRef);\n\n  const {\n    illustrationImage,\n    primaryButtonProps,\n    secondaryButtonProps,\n    headline,\n    hasCondensedHeadline,\n    // eslint-disable-next-line deprecation/deprecation\n    hasCloseButton = props.hasCloseIcon,\n    onDismiss,\n    closeButtonAriaLabel,\n    hasSmallHeadline,\n    isWide,\n    styles,\n    theme,\n    ariaDescribedBy,\n    ariaLabelledBy,\n    footerContent: customFooterContent,\n    focusTrapZoneProps,\n  } = props;\n\n  const classNames = getClassNames(styles, {\n    theme: theme!,\n    hasCondensedHeadline,\n    hasSmallHeadline,\n    hasCloseButton,\n    hasHeadline: !!headline,\n    isWide,\n    primaryButtonClassName: primaryButtonProps ? primaryButtonProps.className : undefined,\n    secondaryButtonClassName: secondaryButtonProps ? secondaryButtonProps.className : undefined,\n  });\n\n  const onKeyDown = React.useCallback(\n    (ev: React.KeyboardEvent<HTMLElement> | KeyboardEvent): void => {\n      if (onDismiss) {\n        // eslint-disable-next-line deprecation/deprecation\n        if (ev.which === KeyCodes.escape) {\n          onDismiss(ev);\n        }\n      }\n    },\n    [onDismiss],\n  );\n\n  useOnEvent(documentRef, 'keydown', onKeyDown as (ev: Event) => void);\n\n  let imageContent: JSX.Element | undefined;\n  let headerContent: JSX.Element | undefined;\n  let bodyContent: JSX.Element | undefined;\n  let footerContent: JSX.Element | undefined;\n  let closeButton: JSX.Element | undefined;\n\n  if (illustrationImage && illustrationImage.src) {\n    imageContent = (\n      <div className={classNames.imageContent}>\n        <Image {...(illustrationImage as any)} />\n      </div>\n    );\n  }\n\n  if (headline) {\n    const HeaderWrapperAs = typeof headline === 'string' ? 'p' : 'div';\n\n    headerContent = (\n      <div className={classNames.header}>\n        <HeaderWrapperAs role=\"heading\" className={classNames.headline} id={ariaLabelledBy}>\n          {headline}\n        </HeaderWrapperAs>\n      </div>\n    );\n  }\n\n  if (props.children) {\n    const BodyContentWrapperAs = typeof props.children === 'string' ? 'p' : 'div';\n\n    bodyContent = (\n      <div className={classNames.body}>\n        <BodyContentWrapperAs className={classNames.subText} id={ariaDescribedBy}>\n          {props.children}\n        </BodyContentWrapperAs>\n      </div>\n    );\n  }\n\n  if (primaryButtonProps || secondaryButtonProps || customFooterContent) {\n    footerContent = (\n      <Stack className={classNames.footer} horizontal horizontalAlign={customFooterContent ? 'space-between' : 'end'}>\n        <Stack.Item align=\"center\">{<span>{customFooterContent}</span>}</Stack.Item>\n        <Stack.Item>\n          {secondaryButtonProps && <DefaultButton {...secondaryButtonProps} className={classNames.secondaryButton} />}\n          {primaryButtonProps && <PrimaryButton {...primaryButtonProps} className={classNames.primaryButton} />}\n        </Stack.Item>\n      </Stack>\n    );\n  }\n\n  if (hasCloseButton) {\n    closeButton = (\n      <IconButton\n        className={classNames.closeButton}\n        iconProps={{ iconName: 'Cancel' }}\n        title={closeButtonAriaLabel}\n        ariaLabel={closeButtonAriaLabel}\n        onClick={onDismiss}\n      />\n    );\n  }\n\n  useComponentRef(props.componentRef, rootElementRef);\n\n  return (\n    <div\n      className={classNames.content}\n      ref={mergedRootRef}\n      role={'dialog'}\n      tabIndex={-1}\n      aria-labelledby={ariaLabelledBy}\n      aria-describedby={ariaDescribedBy}\n      data-is-focusable\n    >\n      {imageContent}\n      <FocusTrapZone isClickableOutsideFocusTrap {...focusTrapZoneProps}>\n        <div className={classNames.bodyContent}>\n          {headerContent}\n          {bodyContent}\n          {footerContent}\n          {closeButton}\n        </div>\n      </FocusTrapZone>\n    </div>\n  );\n});\n"],"sourceRoot":"../src/"},"metadata":{},"sourceType":"module"}